# 🍽️ AI 기반 맛집 추천 챗봇

벡터 데이터베이스와 LLM을 활용한 맛집 추천 시스템입니다.

## 📋 프로젝트 개요

- **목적**: 사용자의 자연어 입력을 기반으로 적절한 맛집을 추천
- **기술 스택**: FAISS (벡터 DB), Sentence Transformers, Llama-3.2-3B-Instruct, Streamlit
- **데이터**: 실제 식당 리뷰 데이터 기반

## 🏗️ 시스템 아키텍처

```
사용자 입력 → 임베딩 → FAISS 벡터 검색 → LLM 추천 생성 → Streamlit UI 출력
```

## 📁 프로젝트 구조

```
restaurant_recommender/
├── data/
│   └── 최원석의돼지한판_서해쭈꾸미_건대1호점_예약_톡톡_쿠폰__13067607_2025-06-11_19-43-10.csv
├── src/
│   ├── data_preprocessing.py   # 데이터 전처리
│   ├── vector_db.py           # FAISS 벡터 DB 구축
│   ├── llm_integration.py     # LLM 통합
│   └── app.py                 # Streamlit 앱
├── models/
│   └── faiss_index/          # 저장된 벡터 인덱스
├── requirements.txt           # 패키지 의존성
└── README.md
```

## 🚀 설치 및 실행

### 1. 의존성 설치

```bash
pip install -r requirements.txt
```

### 2. 벡터 데이터베이스 구축

```bash
cd src
python vector_db.py
```

### 3. 애플리케이션 실행

```bash
cd src
streamlit run app.py
```

### 4. 브라우저에서 접속

- 자동으로 브라우저가 열리거나 `http://localhost:8501`에 접속

## 💡 사용법

### 기본 검색
1. 검색창에 원하는 조건을 자연어로 입력
2. 예시:
   - "건대에서 고기집 추천해줘"
   - "데이트하기 좋은 파스타집"
   - "회식 장소로 좋은 곳"

### LLM 모드
- 사이드바에서 "🤖 LLM 추천 사용" 체크
- Llama 모델이 자연스러운 추천글 생성 (시간 소요)

### 빠른 검색
- 우측의 추천 키워드 버튼 클릭

## 🔧 기술 세부사항

### 벡터 데이터베이스 (FAISS)
- **모델**: `jhgan/ko-sroberta-multitask` (한국어 특화)
- **유사도**: 코사인 유사도
- **인덱스**: IndexFlatIP (Inner Product)

### LLM 통합
- **모델**: meta-llama/Llama-3.2-3B-Instruct
- **추론**: 로컬 실행 (GPU 권장)
- **대안**: 템플릿 기반 간단 추천

### 데이터 전처리
- 리뷰 데이터 집계 및 요약
- 검색용 텍스트 생성 (위치, 메뉴, 분위기 정보 포함)
- 샘플 데이터 확장 (발표용)

## 📊 데이터 구조

```python
restaurant_data = {
    'id': 1,
    'name': '최원석의돼지한판&서해쭈꾸미 건대1호점',
    'location': '건대',
    'menu_type': '돼지고기, 쭈꾸미',
    'atmosphere': '회식, 데이트, 단체모임',
    'price_range': '2-3만원대',
    'rating': 4.5,
    'review_count': 315,
    'search_text': '검색용 통합 텍스트',
    'summary': '한줄 요약'
}
```

## 🎯 주요 기능

1. **자연어 검색**: 복잡한 조건도 자연어로 입력 가능
2. **벡터 유사도**: 의미적 유사성 기반 검색
3. **LLM 추천**: 자연스러운 추천 텍스트 생성
4. **실시간 UI**: Streamlit 기반 인터랙티브 인터페이스
5. **확장 가능**: 새로운 식당 데이터 쉽게 추가 가능

## 🔍 예시 검색 결과

**입력**: "건대에서 데이트하기 좋은 고기집"

**출력**:
- 최원석의돼지한판&서해쭈꾸미 건대1호점 (유사도: 0.87)
- 위치: 건대, 메뉴: 돼지고기, 분위기: 데이트
- AI 추천: "건대역 근처의 숙성 돼지고기 전문점으로..."

## ⚙️ 성능 최적화

### 발표용 간소화
- 최소한의 데이터셋 (3개 식당)
- 캐시된 모델 로딩
- 선택적 LLM 사용

### 확장 시 고려사항
- 더 많은 식당 데이터 추가
- 임베딩 모델 업그레이드
- 클라우드 배포 (Streamlit Cloud)

## 🐛 문제 해결

### 벡터 DB 구축 오류
```bash
# 경로 확인
ls models/faiss_index/

# 재구축
cd src && python vector_db.py
```

### LLM 로딩 실패
- GPU 메모리 부족: 간단 모드 사용
- 모델 다운로드 실패: 인터넷 연결 확인

### Streamlit 실행 오류
```bash
# 포트 변경
streamlit run app.py --server.port 8502
```

## 🔄 확장 가능성

1. **더 많은 데이터**: 다양한 지역/카테고리 식당
2. **필터링**: 가격대, 거리, 평점 필터
3. **개인화**: 사용자 선호도 학습
4. **실시간 데이터**: 운영시간, 예약 가능 여부
5. **지도 연동**: 위치 기반 시각화

## 📞 발표 포인트

1. **실제 데이터 활용**: 진짜 리뷰 데이터 315개
2. **최신 기술 스택**: FAISS + Llama-3.2-3B
3. **사용자 친화적**: 자연어 검색 + 직관적 UI
4. **확장 가능한 구조**: 모듈화된 설계
5. **성능과 품질**: 벡터 검색 + LLM 추천 